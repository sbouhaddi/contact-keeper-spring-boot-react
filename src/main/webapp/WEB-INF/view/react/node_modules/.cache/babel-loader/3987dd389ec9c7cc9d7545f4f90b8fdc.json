{"ast":null,"code":"import _defineProperty from\"/Users/bouhaddisabri/IdeaProjects/DependecyInjection-Spring5/contacts-api/src/main/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/Users/bouhaddisabri/IdeaProjects/DependecyInjection-Spring5/contacts-api/src/main/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/bouhaddisabri/IdeaProjects/DependecyInjection-Spring5/contacts-api/src/main/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useContext,useEffect}from'react';import AuthContext from'../../context/auth/authContext';import Alertcontext from'../../context/alert/alertContext';var Login=function Login(props){var _useState=useState({email:'',password:''}),_useState2=_slicedToArray(_useState,2),user=_useState2[0],setUser=_useState2[1];var _useContext=useContext(Alertcontext),setAlert=_useContext.setAlert;var _useContext2=useContext(AuthContext),loginUser=_useContext2.loginUser,error=_useContext2.error,clearErrors=_useContext2.clearErrors,isAuthenticated=_useContext2.isAuthenticated;var email=user.email,password=user.password;useEffect(function(){if(error==='User not found'){setAlert(error,'danger');clearErrors();setUser({email:'',password:''});}if(isAuthenticated){props.history.push('/home');}// eslint-disable-next-line react-hooks/exhaustive-deps\n},[error,isAuthenticated,props.history]);var handleOnChange=function handleOnChange(e){setUser(_objectSpread(_objectSpread({},user),{},_defineProperty({},e.target.name,e.target.value)));};var handleOnSubmit=function handleOnSubmit(e){e.preventDefault();if(email===''||password===''){setAlert('Please enter all fields','danger');}else{loginUser(user);}};return/*#__PURE__*/React.createElement(\"div\",{className:\"form-container\"},/*#__PURE__*/React.createElement(\"h1\",null,\"Account \",/*#__PURE__*/React.createElement(\"span\",{className:\"text-primary\"},\"Login\")),/*#__PURE__*/React.createElement(\"form\",{onSubmit:handleOnSubmit},/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"email\"},\"Email Address\"),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",name:\"email\",value:email,onChange:handleOnChange,required:true})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"name\"},\"Password\"),/*#__PURE__*/React.createElement(\"input\",{type:\"password\",name:\"password\",value:password,onChange:handleOnChange,required:true,minLength:\"6\"})),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"button\",{type:\"submit\",className:\"btn btn-primary btn-block\"},\"Login\"))));};export default Login;","map":{"version":3,"sources":["/Users/bouhaddisabri/IdeaProjects/DependecyInjection-Spring5/contacts-api/src/main/frontend/src/components/auth/Login.js"],"names":["React","useState","useContext","useEffect","AuthContext","Alertcontext","Login","props","email","password","user","setUser","setAlert","loginUser","error","clearErrors","isAuthenticated","history","push","handleOnChange","e","target","name","value","handleOnSubmit","preventDefault"],"mappings":"unBAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,UAA1B,CAAsCC,SAAtC,KAAuD,OAAvD,CACA,MAAOC,CAAAA,WAAP,KAAwB,gCAAxB,CACA,MAAOC,CAAAA,YAAP,KAAyB,kCAAzB,CAEA,GAAMC,CAAAA,KAAK,CAAG,QAARA,CAAAA,KAAQ,CAACC,KAAD,CAAW,eACCN,QAAQ,CAAC,CAC/BO,KAAK,CAAE,EADwB,CAE/BC,QAAQ,CAAE,EAFqB,CAAD,CADT,wCAChBC,IADgB,eACVC,OADU,+BAMFT,UAAU,CAACG,YAAD,CANR,CAMfO,QANe,aAMfA,QANe,kBAOoCV,UAAU,CACnEE,WADmE,CAP9C,CAOfS,SAPe,cAOfA,SAPe,CAOJC,KAPI,cAOJA,KAPI,CAOGC,WAPH,cAOGA,WAPH,CAOgBC,eAPhB,cAOgBA,eAPhB,IAUfR,CAAAA,KAVe,CAUKE,IAVL,CAUfF,KAVe,CAURC,QAVQ,CAUKC,IAVL,CAURD,QAVQ,CAYvBN,SAAS,CAAC,UAAM,CACd,GAAIW,KAAK,GAAK,gBAAd,CAAgC,CAC9BF,QAAQ,CAACE,KAAD,CAAQ,QAAR,CAAR,CACAC,WAAW,GACXJ,OAAO,CAAC,CACNH,KAAK,CAAE,EADD,CAENC,QAAQ,CAAE,EAFJ,CAAD,CAAP,CAID,CACD,GAAIO,eAAJ,CAAqB,CACnBT,KAAK,CAACU,OAAN,CAAcC,IAAd,CAAmB,OAAnB,EACD,CACD;AACD,CAbQ,CAaN,CAACJ,KAAD,CAAQE,eAAR,CAAyBT,KAAK,CAACU,OAA/B,CAbM,CAAT,CAeA,GAAME,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,CAACC,CAAD,CAAO,CAC5BT,OAAO,gCACFD,IADE,wBAEJU,CAAC,CAACC,MAAF,CAASC,IAFL,CAEYF,CAAC,CAACC,MAAF,CAASE,KAFrB,GAAP,CAID,CALD,CAMA,GAAMC,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,CAACJ,CAAD,CAAO,CAC5BA,CAAC,CAACK,cAAF,GACA,GAAIjB,KAAK,GAAK,EAAV,EAAgBC,QAAQ,GAAK,EAAjC,CAAqC,CACnCG,QAAQ,CAAC,yBAAD,CAA4B,QAA5B,CAAR,CACD,CAFD,IAEO,CACLC,SAAS,CAACH,IAAD,CAAT,CACD,CACF,CAPD,CASA,mBACE,2BAAK,SAAS,CAAC,gBAAf,eACE,sDACU,4BAAM,SAAS,CAAC,cAAhB,UADV,CADF,cAIE,4BAAM,QAAQ,CAAEc,cAAhB,eACE,2BAAK,SAAS,CAAC,YAAf,eACE,6BAAO,OAAO,CAAC,OAAf,kBADF,cAEE,6BACE,IAAI,CAAC,MADP,CAEE,IAAI,CAAC,OAFP,CAGE,KAAK,CAAEhB,KAHT,CAIE,QAAQ,CAAEW,cAJZ,CAKE,QAAQ,KALV,EAFF,CADF,cAWE,2BAAK,SAAS,CAAC,YAAf,eACE,6BAAO,OAAO,CAAC,MAAf,aADF,cAEE,6BACE,IAAI,CAAC,UADP,CAEE,IAAI,CAAC,UAFP,CAGE,KAAK,CAAEV,QAHT,CAIE,QAAQ,CAAEU,cAJZ,CAKE,QAAQ,KALV,CAME,SAAS,CAAC,GANZ,EAFF,CAXF,cAsBE,4CACE,8BAAQ,IAAI,CAAC,QAAb,CAAsB,SAAS,CAAC,2BAAhC,UADF,CAtBF,CAJF,CADF,CAmCD,CA7ED,CA+EA,cAAeb,CAAAA,KAAf","sourcesContent":["import React, { useState, useContext, useEffect } from 'react';\nimport AuthContext from '../../context/auth/authContext';\nimport Alertcontext from '../../context/alert/alertContext';\n\nconst Login = (props) => {\n  const [user, setUser] = useState({\n    email: '',\n    password: '',\n  });\n\n  const { setAlert } = useContext(Alertcontext);\n  const { loginUser, error, clearErrors, isAuthenticated } = useContext(\n    AuthContext\n  );\n  const { email, password } = user;\n\n  useEffect(() => {\n    if (error === 'User not found') {\n      setAlert(error, 'danger');\n      clearErrors();\n      setUser({\n        email: '',\n        password: '',\n      });\n    }\n    if (isAuthenticated) {\n      props.history.push('/home');\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [error, isAuthenticated, props.history]);\n\n  const handleOnChange = (e) => {\n    setUser({\n      ...user,\n      [e.target.name]: e.target.value,\n    });\n  };\n  const handleOnSubmit = (e) => {\n    e.preventDefault();\n    if (email === '' || password === '') {\n      setAlert('Please enter all fields', 'danger');\n    } else {\n      loginUser(user);\n    }\n  };\n\n  return (\n    <div className='form-container'>\n      <h1>\n        Account <span className='text-primary'>Login</span>\n      </h1>\n      <form onSubmit={handleOnSubmit}>\n        <div className='form-group'>\n          <label htmlFor='email'>Email Address</label>\n          <input\n            type='text'\n            name='email'\n            value={email}\n            onChange={handleOnChange}\n            required\n          />\n        </div>\n        <div className='form-group'>\n          <label htmlFor='name'>Password</label>\n          <input\n            type='password'\n            name='password'\n            value={password}\n            onChange={handleOnChange}\n            required\n            minLength='6'\n          />\n        </div>\n        <div>\n          <button type='submit' className='btn btn-primary btn-block'>\n            Login\n          </button>\n        </div>\n      </form>\n    </div>\n  );\n};\n\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}