{"ast":null,"code":"import _regeneratorRuntime from\"/Users/bouhaddisabri/IdeaProjects/DependecyInjection-Spring5/contacts-api/src/main/webapp/WEB-INF/view/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/bouhaddisabri/IdeaProjects/DependecyInjection-Spring5/contacts-api/src/main/webapp/WEB-INF/view/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/bouhaddisabri/IdeaProjects/DependecyInjection-Spring5/contacts-api/src/main/webapp/WEB-INF/view/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useReducer}from'react';import axios from'axios';import ContactContext from'./contactContext';import ContactReducer from'./contactReducer';import{LOAD_CONTACTS,ADD_CONTACT,CONTACT_ERROR,DELETE_CONTACT,UPDATE_CONTACT,SET_CURRENT,CLEAR_CURRENT,CLEAR_FILTER,FILTER_CONTACTS,CLEAR_CONTACTS}from'../types';var ContactState=function ContactState(_ref){var children=_ref.children;var initialState={contacts:null,current:null,filtered:null,error:null,loading:true};var _useReducer=useReducer(ContactReducer,initialState),_useReducer2=_slicedToArray(_useReducer,2),state=_useReducer2[0],dispatch=_useReducer2[1];//LOAD CONTACTS\nvar loadContacts=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get(\"api/getContacts\");case 3:res=_context.sent;dispatch({type:LOAD_CONTACTS,payload:res.data});_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);dispatch({type:CONTACT_ERROR,payload:_context.t0.response.data});case 10:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);}));return function loadContacts(){return _ref2.apply(this,arguments);};}();//ADD CONTACT\nvar addContact=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(contact){var res;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return axios.post(\"api/contacts\",contact);case 3:res=_context2.sent;dispatch({type:ADD_CONTACT,payload:res.data});_context2.next=10;break;case 7:_context2.prev=7;_context2.t0=_context2[\"catch\"](0);dispatch({type:CONTACT_ERROR,payload:_context2.t0.response.data});case 10:case\"end\":return _context2.stop();}}},_callee2,null,[[0,7]]);}));return function addContact(_x){return _ref3.apply(this,arguments);};}();//DELETE CONTACT\nvar deleteContact=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(id){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;_context3.next=3;return axios.delete(\"api/contacts/\".concat(id));case 3:dispatch({type:DELETE_CONTACT,payload:id});_context3.next=9;break;case 6:_context3.prev=6;_context3.t0=_context3[\"catch\"](0);dispatch({type:CONTACT_ERROR,payload:_context3.t0.response.data});case 9:case\"end\":return _context3.stop();}}},_callee3,null,[[0,6]]);}));return function deleteContact(_x2){return _ref4.apply(this,arguments);};}();//SET CURRENT\nvar setCurrent=function setCurrent(contact){dispatch({type:SET_CURRENT,payload:contact});};//CLEAR CURRENT\nvar clearCurrent=function clearCurrent(){dispatch({type:CLEAR_CURRENT});};//UPDATE CONTACT\nvar updateContact=/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(contact){var res;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.prev=0;_context4.next=3;return axios.put(\"api/contacts\",contact);case 3:res=_context4.sent;dispatch({type:UPDATE_CONTACT,payload:res.data});_context4.next=10;break;case 7:_context4.prev=7;_context4.t0=_context4[\"catch\"](0);dispatch({type:CONTACT_ERROR,payload:_context4.t0.response.data});case 10:case\"end\":return _context4.stop();}}},_callee4,null,[[0,7]]);}));return function updateContact(_x3){return _ref5.apply(this,arguments);};}();//FILTER CONTACTS\nvar filterContacts=function filterContacts(text){dispatch({type:FILTER_CONTACTS,payload:text});};//CLEAR FILTER\nvar clearFilter=function clearFilter(){dispatch({type:CLEAR_FILTER});};//CLEAR CONTACTS\nvar clearContacts=function clearContacts(){dispatch({type:CLEAR_CONTACTS});};return/*#__PURE__*/React.createElement(ContactContext.Provider,{value:{contacts:state.contacts,current:state.current,filtered:state.filtered,error:state.error,loading:state.loading,loadContacts:loadContacts,addContact:addContact,deleteContact:deleteContact,setCurrent:setCurrent,clearCurrent:clearCurrent,updateContact:updateContact,filterContacts:filterContacts,clearFilter:clearFilter,clearContacts:clearContacts}},children);};export default ContactState;","map":{"version":3,"sources":["/Users/bouhaddisabri/IdeaProjects/DependecyInjection-Spring5/contacts-api/src/main/webapp/WEB-INF/view/react/src/context/contact/ContactState.js"],"names":["React","useReducer","axios","ContactContext","ContactReducer","LOAD_CONTACTS","ADD_CONTACT","CONTACT_ERROR","DELETE_CONTACT","UPDATE_CONTACT","SET_CURRENT","CLEAR_CURRENT","CLEAR_FILTER","FILTER_CONTACTS","CLEAR_CONTACTS","ContactState","children","initialState","contacts","current","filtered","error","loading","state","dispatch","loadContacts","get","res","type","payload","data","response","addContact","contact","post","deleteContact","id","delete","setCurrent","clearCurrent","updateContact","put","filterContacts","text","clearFilter","clearContacts"],"mappings":"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","sourcesContent":["import React, { useReducer } from 'react';\nimport axios from 'axios';\nimport ContactContext from './contactContext';\nimport ContactReducer from './contactReducer';\nimport {\n  LOAD_CONTACTS,\n  ADD_CONTACT,\n  CONTACT_ERROR,\n  DELETE_CONTACT,\n  UPDATE_CONTACT,\n  SET_CURRENT,\n  CLEAR_CURRENT,\n  CLEAR_FILTER,\n  FILTER_CONTACTS,\n  CLEAR_CONTACTS,\n} from '../types';\n\nconst ContactState = ({ children }) => {\n  const initialState = {\n    contacts: null,\n    current: null,\n    filtered: null,\n    error: null,\n    loading: true,\n  };\n  const [state, dispatch] = useReducer(ContactReducer, initialState);\n\n  //LOAD CONTACTS\n  const loadContacts = async () => {\n    try {\n      const res = await axios.get(`api/getContacts`);\n      dispatch({\n        type: LOAD_CONTACTS,\n        payload: res.data,\n      });\n    } catch (error) {\n      dispatch({\n        type: CONTACT_ERROR,\n        payload: error.response.data,\n      });\n    }\n  };\n\n  //ADD CONTACT\n  const addContact = async (contact) => {\n    try {\n      const res = await axios.post(`api/contacts`, contact);\n      dispatch({\n        type: ADD_CONTACT,\n        payload: res.data,\n      });\n    } catch (error) {\n      dispatch({\n        type: CONTACT_ERROR,\n        payload: error.response.data,\n      });\n    }\n  };\n\n  //DELETE CONTACT\n  const deleteContact = async (id) => {\n    try {\n      await axios.delete(`api/contacts/${id}`);\n      dispatch({\n        type: DELETE_CONTACT,\n        payload: id,\n      });\n    } catch (error) {\n      dispatch({\n        type: CONTACT_ERROR,\n        payload: error.response.data,\n      });\n    }\n  };\n\n  //SET CURRENT\n  const setCurrent = (contact) => {\n    dispatch({\n      type: SET_CURRENT,\n      payload: contact,\n    });\n  };\n\n  //CLEAR CURRENT\n  const clearCurrent = () => {\n    dispatch({\n      type: CLEAR_CURRENT,\n    });\n  };\n\n  //UPDATE CONTACT\n  const updateContact = async (contact) => {\n    try {\n      const res = await axios.put(`api/contacts`, contact);\n      dispatch({\n        type: UPDATE_CONTACT,\n        payload: res.data,\n      });\n    } catch (error) {\n      dispatch({\n        type: CONTACT_ERROR,\n        payload: error.response.data,\n      });\n    }\n  };\n\n  //FILTER CONTACTS\n  const filterContacts = (text) => {\n    dispatch({\n      type: FILTER_CONTACTS,\n      payload: text,\n    });\n  };\n\n  //CLEAR FILTER\n  const clearFilter = () => {\n    dispatch({\n      type: CLEAR_FILTER,\n    });\n  };\n\n  //CLEAR CONTACTS\n  const clearContacts = () => {\n    dispatch({ type: CLEAR_CONTACTS });\n  };\n\n  return (\n    <ContactContext.Provider\n      value={{\n        contacts: state.contacts,\n        current: state.current,\n        filtered: state.filtered,\n        error: state.error,\n        loading: state.loading,\n        loadContacts,\n        addContact,\n        deleteContact,\n        setCurrent,\n        clearCurrent,\n        updateContact,\n        filterContacts,\n        clearFilter,\n        clearContacts,\n      }}>\n      {children}\n    </ContactContext.Provider>\n  );\n};\n\nexport default ContactState;\n"]},"metadata":{},"sourceType":"module"}